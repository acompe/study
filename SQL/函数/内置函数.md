## 数据库函数
## 表函数
- 显示表结果
    - DESC 表名
- 显示索引
    - SHOW INDEX FROM 表名
- 设置结束符号
    - delimiter 结束标记
## 查询函数
#### 单行函数
###### 字符函数

- IFNULL(参数1，参数2);
    - 参数1为被判断参数，为NULL时返回参数二，否则返回参数本身。
- ISNULL(参数)
    - 参数为null返回1，否则返回0。
- LENGTH(参数)
    - 返回字符串长度。
- Concat(参数，参数，参数 ...) 
    - 字符串拼接
- UPPER(参数)
    - 字符串转大写
- LOWER(参数)
    - 字符串转小写
- SUBSTR(...)
    - (参数1，参数2) 从指定位置截取到结尾。
        - 参数1为截取的字符串
        - 参数2为截取的开始位置
    - (参数1，参数2，参数3)从指定位置截取指定长度字符
        - 参数1为截取的字符串
        - 参数2为截图的开始位置
        - 参数3为截取的长度
- INSTR(参数1，参数2)
    - 返回子串在字符串中的起始索引
    - 参数1为字符串
    - 参数2为子串
- TRIM(参数)
    - 清除字符串两边的空格内容。
    - 清除两边的指定内容
    ```sql
    select TRIM('a' FROM 'aaaa1111aaaaaa')
    ```    
- LPAD(参数1，参数2，参数3)
    - 字符串左填充
    - 参数1为需要填充的字符串
    - 参数2为填充后字符串的长度
    - 参数3为填充的内容
    - 当字符串长度大于填充后的长度时，截取字符串右边字符
- RPAD(参数1，参数2，参数3)
    - 字符串右填充
    - 略
- REPLACE(参数1，参数2，参数3)
    - 字符串替换
    - 参数1为需要处理的字符串
    - 参数2为参数1要被替换的字符
    - 参数3为将参数1被替换内容替换后的内容。
###### 数学函数
- ROUND(...)
    - (参数)
        - 四舍五入到个位。
    - (参数，参数)
        - 四舍五入到小数点参数2位。
- CEIL(参数)
    - 向上取整
- FLOOR(参数)
    - 向下取整
- TRUNCATE(参数1，参数2)
    - 保留小数点后几位小数。
    - 参数1为要处理的小数。
    - 参数2为要保留小数点后的位数。
- MOD(参数1，参数2)
    - 取余
    - 参数1除数。
    - 参数2被除数。
- RAND()
    - 0-1之间的随机小数。
###### 日期函数
- NOW()
    - 返回当前日期+时间
- CURDATE()
    - 返回当前日期
- CURTIME()
    - 返回当前时间
- YEAR(参数)
    - 获取年
    - 参数为时间
- MONTH(参数)
    - 获取月份
    - 参数为时间
    - MONTHNAME()
        - 以英文形式返回月份
- STR_TO_DATE(参数1，参数2)
    - 参数1为转化为时间的字符串
    - 参数2为转化为转化格式
- DATE_FORMAT(参数1，参数2)
    - 参数1为转化为字符串的时间
    - 参数2为转化为字符串的格式
- DATWDIFF(参数1，参数2)
    - 计算两个日期相差的时间。
- 附加

|符号|含义|
|:---:|:---:|
|%a|缩写星期名|
|%b|缩写月名|
|%c|月，数值|
|%D|带有英文前缀的月中的天|
|%d|月的天，数值(00-31)|
|%e|月的天，数值(0-31)|
|%f|微秒|
|%H|小时 (00-23)|
|%h|小时 (01-12)|
|%I|小时 (01-12)|
|%i|分钟，数值(00-59)|
|%j|年的天 (001-366)|
|%k|小时 (0-23)|
|%l|小时 (1-12)|
|%M|月名|
|%m|月，数值(00-12)|
|%p|AM 或 PM|
|%r|时间，12-小时（hh:mm:ss AM 或 PM）|
|%S|秒(00-59)|
|%s|秒(00-59)|
|%T|时间, 24-小时 (hh:mm:ss)|
|%U|周 (00-53) 星期日是一周的第一天|
|%u|周 (00-53) 星期一是一周的第一天|
|%V|周 (01-53) 星期日是一周的第一天，与 %X 使用|
|%v|周 (01-53) 星期一是一周的第一天，与 %x 使用|
|%W|星期名|
|%w|周的天 （0=星期日, 6=星期六）|
|%X|年，其中的星期日是周的第一天，4 位，与 %V 使用|
|%x|年，其中的星期一是周的第一天，4 位，与 %v 使用|
|%Y|年，4 位|
|%y|年，2 位|
###### 其他函数
- VERSION()；
    - 返回数据库版本信息。
- DATABASE();
    - 返回当前数据库名称。
- USER()
    - 返回当前用户。
###### 流程控制函数
- IF(参数1，参数2，参数3)
    - 参数1为判断条件
    - 参数2为满足条件时候的返回值。
    - 参数3为不满足条件时候的返回值。
- CASE
    - 事例
    ```sql
      SELECT `last_name`,`salary` AS 原始工资,
      CASE `department_id`
        WHEN 30 THEN salary*1.1
        WHEN 40 THEN salary*1.2
        ELSE `salary`
      END AS 新工资
      FROM employees
    
      # 高级用法
      SELECT SUM(population),
          CASE country
              WHEN '中国'   THEN '亚洲'
              WHEN '印度'   THEN '亚洲'
              WHEN '日本'   THEN '亚洲'
              WHEN '美国'   THEN '北美洲'
              WHEN '加拿大' THEN '北美洲'
              WHEN '墨西哥' THEN '北美洲'
          ELSE '其他' END
      FROM  Table_A
      GROUP BY CASE country
              WHEN '中国'   THEN '亚洲'
              WHEN '印度'   THEN '亚洲'
              WHEN '日本'   THEN '亚洲'
              WHEN '美国'   THEN '北美洲'
              WHEN '加拿大' THEN '北美洲'
              WHEN '墨西哥' THEN '北美洲'
          ELSE '其他' END;
      # 体会GROUP相当与一个函数,输出结果相当与分组的内容。
    ```
- IF ELSE IF ELSE
    - 多范围判断
    - 事例
    ```sql
      SELECT `last_name`,
      CASE
      	WHEN salary>20000 THEN 'A'
      	WHEN salary>15000 THEN 'B'
      	ELSE 'C'
      END AS 工资级别
      FROM employees
    ```
###### 分组函数
- SUM(参数)
    - 求和
    - 数值型
    - 计算时忽略NULL
- AVG(参数)
    - 求平均数
    - 数值型
    - 计算时忽略NULL
- MAX(参数)
    - 求最大值
    - 计算时忽略NULL
- MIN(参数)
    - 求最小值
    - 计算时忽略NULL
- COUNT(参数)
    - 求数量
    - 计算时忽略NULL